(this["webpackJsonpchatbot-frontend"]=this["webpackJsonpchatbot-frontend"]||[]).push([[0],{48:function(e,t,a){e.exports=a(78)},53:function(e,t,a){},54:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(15),i=a.n(r),o=(a(53),a(54),a(16)),c=a(9),m=a(17),l=a(18),u=a(22),h=a(104),d=a(38),g=a.n(d),f=a(106),p=a(105),b=a(101),v=a(102),E=a(103),k=a(99),y=Object(k.a)((function(e){return{card:{maxHeight:"3.8em",alignContent:"center",justifyContent:"center",background:"#365a9e"},title:{color:"white",align:"center",fontSize:"1.3em"}}}));var O=function(e){var t=y();return s.a.createElement(b.a,{className:t.card},s.a.createElement(v.a,null,s.a.createElement(E.a,{align:"center",className:t.title,color:"textPrimary",gutterBottom:!0},e&&e.title?e.title:"TITLE NOT SPECIFIED")))},j=a(82),S=Object(k.a)({cardbot:{maxWidth:"65%",background:"#e0f7a8",marginBottom:"0.7em"},carduser:{maxWidth:"65%",background:"#c2d7ff",marginBottom:"0.7em"},sender:{fontSize:"0.5em",marginTop:"-1em",marginLeft:"-0.6em"},message:{fontSize:"0.7em"},timestamp:{color:"textSecondary",fontSize:"0.5em",marginBottom:"-1.8em",marginRight:"-0.5em"}});var w=function(e){var t=S(),a=e.sender&&"BOT"===e.sender;return s.a.createElement("div",{align:a?"left":"right"},s.a.createElement(b.a,{className:a?t.cardbot:t.carduser},s.a.createElement(v.a,null,s.a.createElement(E.a,{align:"left",className:t.sender,color:"textSecondary",gutterBottom:!0},e.sender),s.a.createElement(E.a,{align:"center",className:t.message,variant:"h5",component:"h2"},e.message),s.a.createElement(E.a,{align:"right",className:t.timestamp,color:"textSecondary"},e.timestamp))))},x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).scrollToBottom=function(){a.messagesEnd.scrollIntoView({behavior:"smooth"})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement(b.a,{className:t.card},s.a.createElement(v.a,null,this.props.entries.map((function(e,t){return s.a.createElement(w,{key:"div_"+t,message:e.message,sender:e.sender,timestamp:e.timestamp})})),s.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})))}}]),t}(s.a.Component),T=Object(j.a)((function(){return{card:{minHeight:"28em",maxHeight:"28em",height:"100%",width:"100%",overflow:"auto",background:"#fcfcfc"}}}))(x),B=a(80),N=a(108),D=a(107),I=a(39),C=a.n(I),M=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return s.a.createElement(B.a,{onSubmit:this.props.submitMessage,width:"100%",component:"form",className:e.root},s.a.createElement(N.a,{onChange:this.props.textHandler,className:e.input,placeholder:"Deine Nachricht",value:this.props.message}),s.a.createElement(h.a,{className:e.divider,orientation:"vertical"}),s.a.createElement(D.a,{onClick:this.props.submitMessage,className:e.iconButton,"aria-label":"Versenden"},s.a.createElement(C.a,null)))}}]),t}(s.a.Component),U=Object(j.a)((function(){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",background:"#fcfcfc"},input:{marginLeft:"0.8em",flex:1},iconButton:{padding:10,background:"#edf8ff"},divider:{height:28,margin:4}}}))(M),H=a(40),z=a.n(H),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).state={messages:[],message:"",UUID:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({UUID:z()()})}},{key:"handleMessage",value:function(e){e.preventDefault(),this.setState({message:e.target.value})}},{key:"getTimestamp",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),""!==this.state.message){var a=this.state.messages,n={sender:"YOU",message:this.state.message,timestamp:this.getTimestamp()};a.push(n);var s={sender:this.state.UUID,message:this.state.message};this.setState({messages:a,message:""}),g()({method:"post",url:"https://3bitrasa.azurewebsites.net//webhooks/rest/webhook",data:s,headers:{"Content-Type":"application/json"}}).then((function(e){var a=t.state.messages;e.data.forEach((function(e){var n={sender:"BOT",message:e.text,timestamp:t.getTimestamp()};a.push(n)})),t.setState(a)})).catch((function(e){var a=t.state.messages;a.push({sender:"SYSTEM",message:"Rasa Server nicht erreichbar",timestamp:t.getTimestamp()}),t.setState(a)}))}}},{key:"render",value:function(){return s.a.createElement(p.a,{container:!0,direction:"column",alignItems:"center"},s.a.createElement(p.a,{item:!0},s.a.createElement(f.a,{width:"25em"},s.a.createElement(O,{title:"3BIT Dev Chatbot"}),s.a.createElement(T,{entries:this.state.messages}),s.a.createElement(h.a,{light:!0}),s.a.createElement(U,{message:this.state.message,textHandler:this.handleMessage.bind(this),submitMessage:this.handleSubmit.bind(this)}))))}}]),t}(s.a.Component);var L=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(W,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.29dc0645.chunk.js.map